!function(a){"use strict";var b=a.module("ng.cork.throttling",[]);b.service("corkThrottling",["$timeout","$q",function(a,b){function c(c,d,e,f,g){d=d||250;var h,i,j,k=!0,l=b.defer();return function(){var m=e||this,n=arguments,o=function(){k=!0},p=function(){f&&g&&j&&(a.cancel(i),i=a(o,d)),f&&!g&&(k=!0),(!f||g&&j)&&(l.resolve(c.apply(m,n)),l=b.defer(),j=!1)};return f&&g&&!k&&(j=!0,a.cancel(i)),f&&k&&(k=!1,j=!1,l.resolve(c.apply(m,n)),l=b.defer()),h&&a.cancel(h),h=a(p,d),l.promise}}var d=this;d.debounce=function(a,b,d){return c(a,b,d)},d.debounceLeading=function(a,b,d){return c(a,b,d,!0)},d.debounceBoth=function(a,b,d){return c(a,b,d,!0,!0)},d.throttle=function(c,d,e){d=d||250;var f,g,h=b.defer();return function(){var i=e||this,j=+new Date,k=arguments,l=function(){f=j,h.resolve(c.apply(i,k)),h=b.defer()};return f&&f+d>j?(a.cancel(g),g=a(l,d)):(f=j,h.resolve(c.apply(i,k)),h=b.defer()),h.promise}}}])}(angular);